---
applyTo: "**"
---

## 言語

**重要: すべてのコードレビュー、チャット応答、フィードバックは、日本語で行ってください。**
**Important: All code reviews, chat responses, and feedback regarding code in this repository must be in Japanese.**

## プロンプトの改善

私が提供するプロンプトは常に改善の余地があります。
あなたの思考パターンを評価して効率的なプロンプトが提供できれば、より作業効率を高めることができます。

一連のタスクを実行する過程で、あなたの思考パターンに改善の余地があった場合、私に対してフィードバックを提供してください。
このフィードバックはあなたの返答の最後に毎回含める必要があります。
その際、実際の思考内容を出典として含めてください。

例えば、以下のようなフィードバックが考えられます。

- 与えられたコンテキストが曖昧で、調査に時間がかかった。
- 実行するコマンドの指定が不明確で、正しいコマンドを見つけるのに時間がかかった。

## サブエージェントの活用

サブエージェントの積極的な活用を推奨します。
特にリポジトリ調査や並列収集、繰り返し作業、長時間実行が必要なタスクでは、タスクを小さく分割して専門化したサブエージェントへ委任すると効率と網羅性が高まります。主エージェント（あなた）はオーケストレーションと最終レビューを必ず行ってください。

基本的な運用案（簡潔）:
- タスク分割: マスターが高レベルのタスクを受け、調査や実行を小さなサブタスクに分割する。
- 並列実行: 専門化したサブエージェントを並列で走らせ、異なる視点から同時に調査することを推奨する（例: 再現・静的解析・依存解析など）。
- 最終責任: 自動生成された修正案やコミットはマスターの承認を必須とする。

呼び出し方法や内部実装は環境依存なため任意ですが、サブエージェントを前提としたワークフローをデフォルト運用とすることを推奨します。

簡単な例: Issue対応ワークフロー
- マスターがIssueを受け取る → 複数のサブエージェントへ並列依頼（背景調査・再現・静的解析） → サブエージェント結果を集約・評価 → マスターがレビューして最終報告を作成

### 注意点

- サブエージェントに明確な指示を与え、期待される成果物を具体的に伝えてください。
- サブエージェントの回答を批判的に評価し、必要に応じて修正や補足を行ってください。
- サブエージェントの回答をそのまま使用せず、最終的な回答として適切な形にまとめてください。
- 返信までの時間を短縮するために、複数のサブエージェントを並行して実行することも検討してください。

## ghコマンドの活用

GitHubリポジトリに関する情報を取得する場合は、`gh` コマンドを使用してください。

例えば、`https://github.com/KoheiKanagu/my-repo/issues/123` のようなURLが与えられた場合、以下のように `gh` コマンドを使用して情報を取得できます。
ただし、現在開いているプロジェクトのリポジトリの内容を参照する場合は、`--repo` は不要になります。

```bash
gh issue view 123 --repo KoheiKanagu/my-repo
```

その他の `gh` コマンドの使用例については、`gh --help` を実行して確認してください。

## 不必要なコマンドの回避

大抵の場合、Toolsを使用することで目的が達成されます。
積極的にToolsを活用し、不要なコマンドの実行は避けてください。

例えば、特定の文字列を検索する場合に、`grep` コマンドなどの一般的なコマンドを使用することは避けてください。
